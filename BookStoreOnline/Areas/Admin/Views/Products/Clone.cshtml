@model BookStoreOnline.Models.SANPHAM

@{
    ViewBag.Title = "Nhân Bản Sách";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="card-body">
    <h2 class="card-title">Nhân Bản Sách</h2>
    <h4 class="text-muted">Đang nhân bản từ: @ViewBag.OriginalName</h4>
</div>

<div class="card mt-4 shadow-sm">
    <div class="card-body">
        @using (Html.BeginForm("Clone", "Products", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.Anh) <!-- Giữ ảnh gốc nếu không upload mới -->

            <div class="form-horizontal">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <!-- Tên sách -->
                <div class="mb-3">
                    <label class="form-label">Tên sách</label>
                    @Html.EditorFor(model => model.TenSanPham, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TenSanPham)
                </div>

                <!-- Tác giả -->
                <div class="mb-3">
                    <label class="form-label">Tác giả</label>
                    @Html.EditorFor(model => model.TacGia, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TacGia)
                </div>

                <!-- Giá -->
                <div class="mb-3">
                    <label class="form-label">Giá</label>
                    @Html.EditorFor(model => model.Gia, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Gia)
                </div>

                <!-- Số lượng -->
                <div class="mb-3">
                    <label class="form-label">Số lượng</label>
                    @Html.EditorFor(model => model.SoLuong, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.SoLuong)
                </div>

                <!-- Mô tả -->
                <div class="mb-3">
                    <label class="form-label">Mô tả</label>
                    <textarea class="form-control" name="MoTa" rows="5">@Model.MoTa</textarea>
                    @Html.ValidationMessageFor(model => model.MoTa)
                </div>

                <!-- Thể loại (ẩn) -->
                @Html.HiddenFor(model => model.MaLoai)

                <!-- Hình ảnh -->
                <div class="mb-3">
                    <label class="form-label">Hình ảnh</label>
                    @if (!string.IsNullOrEmpty(Model.Anh))
                    {
                        <img src="@Model.Anh" class="img-thumbnail mb-2" style="max-width: 200px; display: block;" />
                    }
                    <input type="file" name="imageBook" class="form-control" />
                </div>

                <!-- Nút xác nhận -->
                <div class="d-flex justify-content-between mt-4">
                    @Html.ActionLink("Quay lại", "Index", null, new { @class = "btn btn-secondary" })
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-copy"></i> Xác nhận nhân bản
                    </button>
                </div>
            </div>
        }
    </div>
</div>